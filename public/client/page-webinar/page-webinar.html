<link rel="import" href="../../components/iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="../deck-p2p-client/deck-p2p-client.html">
<link rel="import" href="../part-jumbotron/part-jumbotron.html">
<link rel="import" href="../style-page/style-page.html">

<dom-module id="page-webinar">
  <template>
    <style include="style-grid"></style>
    <style include="style-button"></style>
    <style>
      .blockmain{
        position: relative;
        overflow: hidden;
        padding: 30px 0;
        background-color: #f1f1f1;
      }

      .start {
        @apply(--layout);
        @apply(--layout-center);
        @apply(--layout-center-justified);
        color: white;
        height: 400px;
      }
      .start .button:before {
        content: 'â–¶';
        font-size: 36px;
      }
      .start .button:hover {
        cursor: pointer;
        color: #CCCCEE;
      }

      .row {
        margin: 0;
        height: 400px;
      }

      .media {
        background-color: #333;
        padding: 0;
      }

      .info {
        background-color: #fff;
      }

      .video{
        position: relative;
        width: 100%;
        height: auto;
      }

      [tabs] {
        margin-top: 20px;
      }
    </style>

    <layout-client>
      <div class="blockmain">     
        <div class="container">

          <div class="row">
            <div class="col col-md-8 media">
              <template is="dom-if" if="{{!start}}">
                <div class="start">
                  <div class="button" on-click="on_click"></div>  
                </div>
              </template>
              <template is="dom-if" if="{{start}}">
                <deck-p2p-client class="video" data="{{data}}"></deck-p2p-client>
              </template>
            </div>
            <div class="col col-md-4 info">
              <h3 class="title">{{data.title}}</h3>
              <div class="countdown">
                <span>Start in </span>
                <part-countdown class="count" date="{{data.data}}"></part-countdown>  
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="container">
        <x-tabs-nav tabs='["overview", "chat"]' current="{{current}}"></x-tabs-nav>
        <x-tabs id="tabs" current="{{current}}">
          <x-tab tab name="overview">
            <h2>Description</h2>
            <div>{{data.description}}</div>
          </x-tab>
          <x-tab tab name="chat">
            <h2>TODO</h2>
          </x-tab>
        </x-tabs>
      </div>

    </layout-client>

  </template>
</dom-module>
<script>
  Polymer({

    is: 'page-webinar',

    properties:{
      start: {
        type: Boolean,
        value: false
      },
      webinar: {
        type: Object,
        value: function () { return {}; }
      }
    },

    attached:function(){
      console.log(this.data.data)
    },

    on_click:function(){
      this.start = true;
    }


  });
</script>