<link rel="import" href="../../styles/style-grid/style-grid.html">
<link rel="import" href="../../styles/style-navs/style-navs.html">
<link rel="import" href="../x-tabs/x-tabs.html">
<link rel="import" href="part-reviews-items.html">

<dom-module id="page-dashboard">
  <template>
    <style include="style-grid"></style>
    <style include="style-navs"></style>
    <style>
      .general {
        @apply(--layout-horizontal);
        margin-bottom: 50px;
      }
      .general .image iron-image {
        width: 150px;
        height: 200px;
      }
      .general .info {
        flex: 1;
        padding-left: 20px;
      }
      .general .info .text {
        margin: 10px 20px;
        display: inline-block;
      }
    </style>

    <layout-client>
      <div class="container">
        <div class="general">
          <div class="image">
            <iron-image preload src="{{data.member.photo}}" sizing="cover"></iron-image> 
          </div>
          <div class="info">
            <div>
              <i class="fa fa-pencil" on-click="on_click_edit"></i>
              <h2 class="text">{{data.member.name}} {{data.member.last_name}}</h2>
            </div>
            <div>
              <i class="fa fa-envelope-o"></i>
              <p class="text">{{data.member.email}}</p>
            </div>
            <div class="item">
              <i class="fa fa-male"></i>
              <p class="text">{{data.member.gender}}</p>
            </div>
            <div class="item">
              <i class="fa fa-phone"></i>
              <p class="text">{{data.member.phone}}</p>
            </div>
            <div class="item">
              <i class="fa fa-map-o"></i>
              <p class="text">{{data.member.location}}</p>
            </div>
            <div class="item">
              <i class="fa fa-calendar"></i>
              <p class="text">{{member_data}}</p>
            </div>
          </div>
        </div>

        <div class="details">
          <x-tabs-nav tabs='["learning", "reviews"]' current="{{current}}"></x-tabs-nav>
          <x-tabs id="tabs" current="{{current}}">
            <div tab name="learning">
              <deck-courses courses="{{data.member.learning}}"></deck-courses>
            </div>
            <div tab name="reviews">
              <part-reviews-items session="{{session}}"></part-reviews-items>
            </div>
          </x-tabs>
        </div>
      </div>
    </layout-client>

  </template>
</dom-module>

<script>
  Polymer({

    is: 'page-dashboard',

    properties: {
      data: {
        type: Object,
        value: function () { return {}; }
      },
      member_data:{
        type:String
      },
      reviews:{
        type: Array,
        value: function () { return []; }
      }
    },

    attached:function(){
      if(this.data.member.birthday)
        this.member_data = this.data.member.birthday.split('T')[0];

    },

    on_click_edit: function(){
      page('/profile/setting')
    },

  });
</script>