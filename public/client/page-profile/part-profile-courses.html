<link rel="import" href="part-profile-learning.html">
<link rel="import" href="part-profile-teaching.html">
<link rel="import" href="../x-tabs/x-tabs.html">
<link rel="import" href="../../styles/style-page/style-page.html">
<link rel="import" href="../../styles/style-panel/style-panel.html">

<dom-module id="part-profile-courses">
  <template>
    <style include="style-page"></style>
    <style include="style-panel"></style>
    <style include="style-grid"></style>
    <style include="style-button"></style>

        <div class="panel">
          <div on-click="on_click_nav">
            <button class="btn btn-secondary" data-tab="learning">Learning</button>
            <button class="btn btn-secondary" data-tab="teaching">Teaching</button>
            <button class="btn btn-secondary" data-tab="create">Create new course</button>
          </div>
        </div>
        <div>
          <x-tabs id="tabs" current="{{current}}">
            <x-tab name="learning">
              <part-profile-learning courses="{{member.learning}}"></part-profile-learning>
            </x-tab>
            <x-tab name="teaching">
              <part-profile-teaching courses="{{member.teaching}}"></part-profile-teaching>
            </x-tab>
          </x-tabs>
        </div>


  </template>
</dom-module>

<script>
  Polymer({

    is: 'part-profile-courses',

    properties: {
      member: {
        type: Object,
        value: function () { return {}; }
      },
      current: {
        type: String,
        value: 'learning'
      }
    },

    attached:function(){
      console.log(this.member)
    },

    on_click_nav: function (event) {
      var name = event.target.dataset.tab;
      this.set('current', name);
      if(name=='create')
        page('/admin/courses/new')
      // this.$.tabs.current = name
    },

  });
</script>