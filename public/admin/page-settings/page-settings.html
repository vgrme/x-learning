<link rel="import" href="../layout-admin/layout-admin.html">
<link rel="import" href="../../styles/style-page/style-page.html">
<link rel="import" href="panel-settings-email.html">
<link rel="import" href="panel-settings-profile.html">
<link rel="import" href="panel-settings-password.html">
<link rel="import" href="panel-settings-image.html">

<dom-module id="page-settings">
  <template>
    <style include="style-page"></style>
    <style include="style-grid"></style>
    <style include="style-button"></style>
    <style>
      .nav-link{
        display: block;
        font-weight: normal;
        color: #0275d8;
        border-radius: 0;
      }
    </style>

    <layout-admin>
     <div class="row">
        <div class="col-sm-3 col-sm-push-1">
          <div on-click="on_click_nav">
            <nav on-click="on_click_nav">
              <ul>
                <li class="nav-link" data-tab="profile">Profile</li>
                <li class="nav-link" data-tab="photo">Photo</li>
                <li class="nav-link" data-tab="account">Account</li>
              </ul>
            </nav>
          </div>
        </div>
        <div class="col-sm-8">
          <x-tabs id="tabs" current="{{current}}">
            <x-tab name="profile">
              <panel-settings-profile user="{{data.user}}" ></panel-settings-profile>
            </x-tab>
            <x-tab name="photo">
              <panel-settings-image user="{{data.user}}"></panel-settings-image>
            </x-tab>
            <x-tab name="account">
              <panel-settings-email user="{{data.user}}"></panel-settings-email>
              <panel-settings-password user="{{data.user}}"></panel-settings-password>
            </x-tab>
          </x-tabs>
        </div>
        <part-profile-info member="{{data.member}}"></part-profile-info>
      </div>
    </layout-admin>

  </template>
</dom-module>
<script>
  Polymer({

    is: 'page-settings',

    properties: {
      data: {
        type: Object,
        value: function () { return {}; }
      },
      current: {
        type: String,
        value: 'profile'
      }
    },

    on_click_nav: function (event) {
      var name = event.target.dataset.tab;
      this.set('current', name);
    }
    
  });
</script>
