<link rel="import" href="../../components/app-link/app-link.html">
<link rel="import" href="../style-form/style-form.html">

<dom-module id="list-courses">
  <template>
    <style include="style-form"></style>
    <template id='course' is="dom-repeat" items="{{courses}}" as="course">
      <div>  
        <a is="app-link" href="/admin/courses/{{course.id}}">{{course.title}}</a>
        <button class="btn" on-click="on_click_delete">Delete course</button>
      </div>
    </template>

  </template>
</dom-module>
<script>
  Polymer({

    is: 'list-courses',

    properties: {
      courses: {
        type: Object,
        value: function () { return []; }
      }
    },

    on_click_delete:function(event){
      if (!confirm('are you sure?')) {
        return;
      }

      this.fire('try-delete',this.$.course.itemForElement(event.target))
    }

  });
</script>